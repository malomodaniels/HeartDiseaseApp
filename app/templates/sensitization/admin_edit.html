{% extends "base.html" %}
{% block content %}
<div class="card shadow-sm">
  <div class="card-body">
    <h2 class="h4">{{ 'Edit post' if post else 'New post' }}</h2>
    <form method="post" action="{{ url_for('sensitization.admin_update', post_id=post.id) if post else url_for('sensitization.admin_create') }}">
      <div class="mb-3">
        <label class="form-label">Title</label>
        <input class="form-control" name="title" value="{{ post.title if post else '' }}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Body</label>
        <textarea class="form-control" name="body" rows="10" required>{{ post.body if post else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">Image filename (in static/images)</label>
        <input class="form-control" name="image"
              value="{{ post.image if post else '' }}"
              placeholder="e.g. stroke-fast-test.jpg">
        <div class="form-text">
          Use one of your existing images (exact filename).
        </div>
      </div>

      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" name="is_published" id="pub" {% if post and post.is_published %}checked{% endif %} {% if not post %}checked{% endif %}>
        <label class="form-check-label" for="pub">Published</label>
      </div>
      <button class="btn btn-primary" type="submit">Save</button>
      <a class="btn btn-outline-secondary" href="{{ url_for('sensitization.admin_list') }}">Cancel</a>
    </form>
  </div>
</div>
{% endblock %}
